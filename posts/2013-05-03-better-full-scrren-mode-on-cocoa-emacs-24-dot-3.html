<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="description" content="Takeshi Yaeda&#x27;s Blog"/><meta property="og:image" content="https://og-image.now.sh/yaeda.github.io.png?theme=light&amp;md=0&amp;fontSize=100px"/><meta name="og:title" content="yaeda.github.io"/><meta name="twitter:card" content="summary_large_image"/><title>Better Full Screen Mode on Cocoa Emacs 24.3</title><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/f533d2460c7e975c15c9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f533d2460c7e975c15c9.css" data-n-g=""/><link rel="preload" href="/_next/static/css/5261d44d0d9e40acce07.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5261d44d0d9e40acce07.css" data-n-p=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-ceab71ff4af1e6f937e6.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.1d36bc031662b4dc4c28.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.cb82874e43d6dd0d0fae.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-99cbb240ffe284896e8a.js" as="script"/><link rel="preload" href="/_next/static/chunks/7989c093b81d86ddb0abfb342d5bc2e84730435d.ae55355a2d6373045c9b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bid%5D-507aa56731fa7f19cc6f.js" as="script"/></head><body><div id="__next"><div class="layout_container__2t4v2"><header class="layout_header__2rhWq"><p class="utils_headingMd__3de6G"><a class="utils_colorInherit__3Gudf" href="/">yaeda.github.io</a></p></header><main class="layout_main__26dVU"><article><h1 class="utils_headingXl__1XecN">Better Full Screen Mode on Cocoa Emacs 24.3</h1><div class="utils_lightText__12Ckm"><time dateTime="2013-05-03 00:00">May 3, 2013</time><span> <!-- -->(<!-- -->over 7 years ago<!-- -->)</span></div><div class="mdpreview"><p>Ubuntu の Emacs を 24 系に上げて elsp の管理を全て ELPA(package.el)に任せ始めたので，Mac の方の Emacs も 24 系に上げることにした．現状の最新版 24.3 のインストール方法と OSX Lion Style でない fullscreen の設定について．</p><h2>Emacs 24.3 インストール</h2><p>軽く調べると，emacs-24.3.tar.xz を落としてきて，インラインパッチを当てて手動でビルドしている例が多い．パッチをあてる理由を理解していないため，今回は普通に brew から入れる．問題に直面したら入れ直すことにする．</p><p>brew によるインストールは以下のコマンドだが，本家の git から落としてくるのでとても時間がかかる．お急ぎの場合はオプション外すのが良い(が，そっちでは下記の fullscreen の設定は試していない）</p><figure class="code-block_figure__3kq81"><pre style="display:block;overflow-x:auto;background:#2b2b2b;color:#f8f8f2;padding:0.5em"><code class="language-sh" style="white-space:pre"><span style="color:#d4d0ab">brew</span><span> </span><span style="color:#d4d0ab">install</span><span> </span><span style="color:#d4d0ab">emacs</span><span> --</span><span style="color:#d4d0ab">cocoa</span><span> --</span><span style="color:#d4d0ab">HEAD</span><span> --</span><span style="color:#d4d0ab">use</span><span style="color:#f5ab35">-</span><span style="color:#d4d0ab">git</span><span style="color:#f5ab35">-</span><span style="color:#d4d0ab">head</span></code></pre></figure><p>以下のどちらかのコマンドで/Applications にインストールされる．</p><figure class="code-block_figure__3kq81"><pre style="display:block;overflow-x:auto;background:#2b2b2b;color:#f8f8f2;padding:0.5em"><code class="language-sh" style="white-space:pre"><span>brew linkapps
</span><span>ln -s </span><span style="color:#ffa07a">/usr/</span><span>local</span><span style="color:#ffa07a">/Cellar/</span><span>emacs</span><span style="color:#ffa07a">/HEAD/</span><span>Emacs.app /Applications</span></code></pre></figure><h2>Full Screen Mode の設定</h2><p>23 系では ns-toggle-fullscreen があり top bar も消してフルスクリーン化してくれるので最高だった． 24 系では ns-toggle-fullscreen は無くなり，OSX Lion Style のフルスクリーン(toggle-frame-fullscreen)が標準になってしまっている． toggle-frame-maximized というのもあるが，top bar は残ったままだし，maximize が控えめで画面いっぱいに広がってくれない（全然 maximize じゃない！）．</p><p>「改悪じゃねーか」と思っていたが，ns-use-native-fullscreen で toggle-frame-fullscreen の挙動を変えられた．</p><p>init.el 辺りに以下を書いておくと，toggle-frame-fullscreen が 23 系の ns-toggle-fullscreen と同じ挙動をしてくれて幸せ Emacs 生活が再始動する．</p><figure class="code-block_figure__3kq81"><pre style="display:block;overflow-x:auto;background:#2b2b2b;color:#f8f8f2;padding:0.5em"><code style="white-space:pre"><span>(</span><span style="color:#ffa07a">setq</span><span> ns-use-native-fullscreen </span><span style="color:#f5ab35">nil</span><span>)</span></code></pre></figure><p>右上の矢印も消えてくれる．</p></div></article></main><div class="layout_backToHome__1vZsp"><a href="/">← Back to home</a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"2013-05-03-better-full-scrren-mode-on-cocoa-emacs-24-dot-3","content":"\nUbuntu の Emacs を 24 系に上げて elsp の管理を全て ELPA(package.el)に任せ始めたので，Mac の方の Emacs も 24 系に上げることにした．現状の最新版 24.3 のインストール方法と OSX Lion Style でない fullscreen の設定について．\n\n## Emacs 24.3 インストール\n\n軽く調べると，emacs-24.3.tar.xz を落としてきて，インラインパッチを当てて手動でビルドしている例が多い．パッチをあてる理由を理解していないため，今回は普通に brew から入れる．問題に直面したら入れ直すことにする．\n\nbrew によるインストールは以下のコマンドだが，本家の git から落としてくるのでとても時間がかかる．お急ぎの場合はオプション外すのが良い(が，そっちでは下記の fullscreen の設定は試していない）\n\n```sh\nbrew install emacs --cocoa --HEAD --use-git-head\n```\n\n以下のどちらかのコマンドで/Applications にインストールされる．\n\n```sh\nbrew linkapps\nln -s /usr/local/Cellar/emacs/HEAD/Emacs.app /Applications\n```\n\n## Full Screen Mode の設定\n\n23 系では ns-toggle-fullscreen があり top bar も消してフルスクリーン化してくれるので最高だった． 24 系では ns-toggle-fullscreen は無くなり，OSX Lion Style のフルスクリーン(toggle-frame-fullscreen)が標準になってしまっている． toggle-frame-maximized というのもあるが，top bar は残ったままだし，maximize が控えめで画面いっぱいに広がってくれない（全然 maximize じゃない！）．\n\n「改悪じゃねーか」と思っていたが，ns-use-native-fullscreen で toggle-frame-fullscreen の挙動を変えられた．\n\ninit.el 辺りに以下を書いておくと，toggle-frame-fullscreen が 23 系の ns-toggle-fullscreen と同じ挙動をしてくれて幸せ Emacs 生活が再始動する．\n\n```\n(setq ns-use-native-fullscreen nil)\n```\n\n右上の矢印も消えてくれる．\n","layout":"post","title":"Better Full Screen Mode on Cocoa Emacs 24.3","date":"2013-05-03 00:00","comments":true,"categories":"emacs osx"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"2013-05-03-better-full-scrren-mode-on-cocoa-emacs-24-dot-3"},"buildId":"eBxol6ufN5dpvmzJA13L2","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-11c8eba6a84e3fddec04.js"></script><script src="/_next/static/chunks/main-ceab71ff4af1e6f937e6.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.1d36bc031662b4dc4c28.js" async=""></script><script src="/_next/static/chunks/commons.cb82874e43d6dd0d0fae.js" async=""></script><script src="/_next/static/chunks/pages/_app-99cbb240ffe284896e8a.js" async=""></script><script src="/_next/static/chunks/7989c093b81d86ddb0abfb342d5bc2e84730435d.ae55355a2d6373045c9b.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-507aa56731fa7f19cc6f.js" async=""></script><script src="/_next/static/eBxol6ufN5dpvmzJA13L2/_buildManifest.js" async=""></script><script src="/_next/static/eBxol6ufN5dpvmzJA13L2/_ssgManifest.js" async=""></script></body></html>